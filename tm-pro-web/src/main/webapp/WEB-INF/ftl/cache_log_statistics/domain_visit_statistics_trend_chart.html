<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- BootStrap Css -->
<link href="${rc.contextPath}/statics/ui-frame/css/bootstrap.min14ed.css?v=3.3.6" rel="stylesheet">
<!-- 字体图标 Css -->
<link href="${rc.contextPath}/statics/ui-frame/css/font-awesome.min93e3.css?v=4.4.0" rel="stylesheet">
<!-- BootStrap 日期插件 -->
<link href="${rc.contextPath}/statics/ui-frame/css/plugins/datapicker/datepicker3.css" rel="stylesheet">
<!-- Css 动画 -->
<link href="${rc.contextPath}/statics/ui-frame/css/animate.min.css" rel="stylesheet">
<!-- 基本样式 -->
<link href="${rc.contextPath}/statics/ui-frame/css/style.min862f.css?v=4.1.0" rel="stylesheet">
</head>
<body class="gray-bg">
	<div id="app" class="wrapper wrapper-content" style="padding: 20px">
		<div class="row">
			<div class="col-sm-12">

				<div class="ibox float-e-margins">
					<div class="ibox-content">
						<div class="row">

							<div class="col-xs-4">
								<div class="form-group" id="date_range">
									<label class="font-noraml">日期</label>
									<div class="input-daterange input-group" id="datepicker">
										<input type="text" class="input-sm form-control" name="start" value="" />
										<span class="input-group-addon">到</span>
										<input type="text" class="input-sm form-control" name="end" value="" />
									</div>
								</div>
							</div>
							
							<div class="col-xs-2">
								<div class="form-group" style="min-width: 120px;">
									<label class="font-noraml">操作</label>
									<div class="btn-group" style="display: block;">
										<button class="btn btn-primary" type="button">搜索</button>
	                                    <button class="btn btn-white" type="button">刷新</button>
                                    </div>
								</div>
							</div>

						</div>
					</div>
				</div>
			</div>
		</div>
		
		<div class="row">
			<div class="col-xs-6">
				<div class="ibox float-e-margins">
					<div class="ibox-title">
						<h5>请求次数趋势（次）</h5>
						<div class="ibox-tools">
							<a style="color:#273a4a"> <i class="fa fa-download"></i> 导出</a>
						</div>
					</div>
					<div class="ibox-content" style="padding-left: 0; padding-right: 0;">
						<div id="c1"></div>
					</div>
				</div>
			</div>
			<div class="col-xs-6">
				<div class="ibox float-e-margins">
					<div class="ibox-title">
						<h5>比率趋势（%）</h5>
						<div class="ibox-tools">
							<a style="color:#273a4a"> <i class="fa fa-download"></i> 导出</a>
						</div>
					</div>
					<div class="ibox-content" style="padding-left: 0; padding-right: 0;">
						<div id="c2"></div>
					</div>
				</div>
			</div>
			<div class="col-xs-6">
				<div class="ibox float-e-margins">
					<div class="ibox-title">
						<h5>HIT/MISS/Denied次数趋势（次）</h5>
						<div class="ibox-tools">
							<a style="color:#273a4a"> <i class="fa fa-download"></i> 导出</a>
						</div>
					</div>
					<div class="ibox-content" style="padding-left: 0; padding-right: 0;">
						<div id="c3"></div>
					</div>
				</div>
			</div>
			<div class="col-xs-6">
				<div class="ibox float-e-margins">
					<div class="ibox-title">
						<h5>流量趋势（MB）</h5>
						<div class="ibox-tools">
							<a style="color:#273a4a"> <i class="fa fa-download"></i> 导出</a>
						</div>
					</div>
					<div class="ibox-content" style="padding-left: 0; padding-right: 0;">
						<div id="c4"></div>
					</div>
				</div>
			</div>
			<div class="col-xs-6">
				<div class="ibox float-e-margins">
					<div class="ibox-title">
						<h5>请求次数占比/流量占比趋势（%）</h5>
						<div class="ibox-tools">
							<a style="color:#273a4a"> <i class="fa fa-download"></i> 导出</a>
						</div>
					</div>
					<div class="ibox-content" style="padding-left: 0; padding-right: 0;">
						<div id="c5"></div>
					</div>
				</div>
			</div>
			<div class="col-xs-6">
				<div class="ibox float-e-margins">
					<div class="ibox-title">
						<h5>平均下载速率趋势（KB/s）</h5>
						<div class="ibox-tools">
							<a style="color:#273a4a"> <i class="fa fa-download"></i> 导出</a>
						</div>
					</div>
					<div class="ibox-content" style="padding-left: 0; padding-right: 0;">
						<div id="c6"></div>
					</div>
				</div>
			</div>
		</div>
		
	</div>
	<!-- Jquery Dom -->
	<script src="${rc.contextPath}/statics/ui-frame/js/jquery.min.js?v=2.1.4"></script>
	<!-- BootStrap Js -->
	<script src="${rc.contextPath}/statics/ui-frame/js/bootstrap.min.js?v=3.3.6"></script>
	<!-- 日期插件 -->
	<script src="${rc.contextPath}/statics/ui-frame/js/plugins/datapicker/bootstrap-datepicker.js"></script>
	<!-- 日期格式化插件 -->
	<script src="${rc.contextPath}/statics/ui-frame/plugins/moment/moment.min.js"></script>
	<!-- 框架工具 -->
	<script src="${rc.contextPath}/statics/ui-frame/js/frame-util.js"></script>
	<!-- 图表插件 -->
	<script src="${rc.contextPath}/statics/ui-frame/plugins/antv/antv-g2-v2.3.13.js"></script>
	<script src="${rc.contextPath}/statics/ui-frame/plugins/antv/slider.js"></script>
	<script type="text/javascript">
		(function(_j) {
			
			function initLineChart(id, data, names) {
					var Frame = G2.Frame;
			        var frame = new Frame(data);
			        frame = Frame.combinColumns(frame, names, 'value', 'type', 'date'); 
			        var chart = new G2.Chart({
			          id: id,
			          forceFit: true,
			          height: 220,
			          plotCfg: {
			            margin: [20, 60, 60, 80]
			          }
			        });
			        chart.source(frame, {
			          date: {
			            type: 'time',
			            mask: 'yyyy-mm-dd',
			            tickCount: 5
			          }
			        });
			        chart.legend({
				            position: 'bottom',
					    	marker: 'square',
					    	dy: 13
			        });
			        chart.axis('date', {
				          tickLine: {
				            stroke: '#000',
				            value: 3 // 刻度线长度
				          },
				          line: {
				            stroke: '#000'
				          },
				          title: null
			        });
			        chart.axis('value', {
			          grid: null,
			          title: null
			        });
			        chart.line().position('date*value').color('type', ['#1f77b4', '#ff7f0e']).shape('line').size(2);
			        chart.render();
			}
			
			(function() {
				var data1 = [{"date": "2017-11-26", "请求总次数": 8832, "成功次数": 5512, "失败次数": 3320},
					{"date": "2017-11-27", "请求总次数": 8832, "成功次数": 5512, "失败次数": 3320},
					{"date": "2017-11-28", "请求总次数": 8832, "成功次数": 5512, "失败次数": 3320},
					{"date": "2017-11-29", "请求总次数": 8832, "成功次数": 5512, "失败次数": 3320},
					{"date": "2017-11-30", "请求总次数": 8832, "成功次数": 5512, "失败次数": 3320},
					{"date": "2017-12-01", "请求总次数": 8832, "成功次数": 5512, "失败次数": 3320},
					{"date": "2017-12-02", "请求总次数": 8832, "成功次数": 5512, "失败次数": 3320}];
		        initLineChart('c1', data1, ['请求总次数', '成功次数', '失败次数']);
		        var data2 = [{"date": "2017-11-26", "请求成功数": 100, "请求命中率": 99, "流量命中率": 75},
					{"date": "2017-11-27", "请求成功数": 100, "请求命中率": 99, "流量命中率": 60},
					{"date": "2017-11-28", "请求成功数": 100, "请求命中率": 99, "流量命中率": 80},
					{"date": "2017-11-29", "请求成功数": 100, "请求命中率": 99, "流量命中率": 80},
					{"date": "2017-11-30", "请求成功数": 100, "请求命中率": 99, "流量命中率": 70},
					{"date": "2017-12-01", "请求成功数": 100, "请求命中率": 99, "流量命中率": 90},
					{"date": "2017-12-02", "请求成功数": 100, "请求命中率": 99, "流量命中率": 80}];
		        initLineChart('c2', data2, ['请求成功数', '请求命中率', '流量命中率']);
		        var data3 = [{"date": "2017-11-26", "HIT次数": 100, "MISS次数": 99, "DENIED次数": 75},
					{"date": "2017-11-27", "HIT次数": 100, "MISS次数": 99, "DENIED次数": 60},
					{"date": "2017-11-28", "HIT次数": 100, "MISS次数": 99, "DENIED次数": 80},
					{"date": "2017-11-29", "HIT次数": 100, "MISS次数": 99, "DENIED次数": 80},
					{"date": "2017-11-30", "HIT次数": 100, "MISS次数": 99, "DENIED次数": 70},
					{"date": "2017-12-01", "HIT次数": 100, "MISS次数": 99, "DENIED次数": 90},
					{"date": "2017-12-02", "HIT次数": 100, "MISS次数": 99, "DENIED次数": 80}];
		        initLineChart('c3', data3, ['HIT次数', 'MISS次数', 'DENIED次数']);
		        var data4 = [{"date": "2017-11-26",  "总流量": 199, "HIT流量": 100, "MISS流量": 99, "DENIED流量": 75},
					{"date": "2017-11-27", "总流量": 199, "HIT流量": 100, "MISS流量": 99, "DENIED流量": 60},
					{"date": "2017-11-28", "总流量": 199, "HIT流量": 100, "MISS流量": 99, "DENIED流量": 80},
					{"date": "2017-11-29", "总流量": 199, "HIT流量": 100, "MISS流量": 99, "DENIED流量": 80},
					{"date": "2017-11-30", "总流量": 199, "HIT流量": 100, "MISS流量": 99, "DENIED流量": 70},
					{"date": "2017-12-01", "总流量": 199, "HIT流量": 100, "MISS流量": 99, "DENIED流量": 90},
					{"date": "2017-12-02", "总流量": 199, "HIT流量": 100, "MISS流量": 99, "DENIED流量": 80}];
		        initLineChart('c4', data4, ['总流量', 'HIT流量', 'MISS流量', 'DENIED流量']);
		        var data5 = [{"date": "2017-11-26", "请求次数占比": 100, "流量占比": 99},
					{"date": "2017-11-27", "请求次数占比": 100, "流量占比": 99},
					{"date": "2017-11-28", "请求次数占比": 100, "流量占比": 99},
					{"date": "2017-11-29", "请求次数占比": 100, "流量占比": 99},
					{"date": "2017-11-30", "请求次数占比": 100, "流量占比": 99},
					{"date": "2017-12-01", "请求次数占比": 100, "流量占比": 99},
					{"date": "2017-12-02", "请求次数占比": 100, "流量占比": 99}];
		        initLineChart('c5', data5, ['请求次数占比', '流量占比']);
		        var data6 = [{"date": "2017-11-26", "平均下载速率": 99},
					{"date": "2017-11-27", "平均下载速率": 95},
					{"date": "2017-11-28", "平均下载速率": 96},
					{"date": "2017-11-29", "平均下载速率": 99},
					{"date": "2017-11-30", "平均下载速率": 97},
					{"date": "2017-12-01", "平均下载速率": 96},
					{"date": "2017-12-02", "平均下载速率": 79}];
		        initLineChart('c6', data6, ['平均下载速率']);
			})();
			
			// 日期控件初始化
			_j("#date_range .input-daterange").datepicker({
				keyboardNavigation : !1,
				forceParse : !1,
				autoclose : !0
			});
		})(jQuery)
	</script>
</body>
</html>
